{% extends "base.html" %}

{% block title %}Admin Dashboard{% endblock %}

{% block content %}
<h2 style="margin-bottom: 30px; color: rgb(107, 0, 62);">ðŸ“Š Admin Dashboard</h2>

<div class="stats-grid">
    <div class="stat-card" style="background: #e7f3ff;color: rgb(107, 0, 62);">
        <h3>Total Lost Items</h3>
        <p>{{ total_lost }}</p>
    </div>
    
    <div class="stat-card" style="background: #e7f3ff;color: rgb(107, 0, 62);">
        <h3>Total Found Items</h3>
        <p>{{ total_found }}</p>
    </div>
    
    <div class="stat-card" style="background: #e7f3ff;color: rgb(107, 0, 62);">
        <h3>Total Claimed Items</h3>
        <p>{{ total_claimed }}</p>
    </div>
    
    <div class="stat-card" style="background: #e7f3ff; color: rgb(107, 0, 62);">
        <h3>Pending Student Reports</h3>
        <p>{{ pending_reports }}</p>
    </div>
</div>

<div class="card">
    <div class="card-header" style="color: rgb(107, 0, 62);">ðŸ“ˆ Monthly Summary - Lost Items</div>
    <table>
        <thead>
            <tr>
                <th>Month</th>
                <th>Number of Reports</th>
            </tr>
        </thead>
        <tbody>
            {% for row in monthly_lost %}
            <tr>
                <td>{{ row['month'] }}</td>
                <td>{{ row['count'] }}</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin-top: 30px;">
    <div class="card" style="background: rgb(107, 0, 62); color: white;">
        <div class="card-header" style="color: white;">ðŸ‘¥ Manage Users</div>
        <p style="margin-bottom: 15px;">Add, remove, and manage user accounts</p>
        <a href="{{ url_for('admin_users') }}" class="btn btn-secondary">Go to Users</a>
    </div>
    
    <div class="card" style="background: #e7f3ff; color: rgb(107, 0, 62);">
        <div class="card-header" style="color: rgb(107, 0, 62);">ðŸ“‹ View Reports</div>
        <p style="margin-bottom: 15px;">See all lost/found submissions and track status</p>
        <a href="{{ url_for('admin_reports') }}" class="btn btn-secondary">View Reports</a>
    </div>
    
    <div class="card" style="background: rgb(107, 0, 62); color: white;">
        <div class="card-header" style="color: white;">ðŸ“¨ Student Reports</div>
        <p style="margin-bottom: 15px;">Review and approve pending student reports</p>
        <a href="{{ url_for('admin_student_reports') }}" class="btn btn-secondary">Review Reports ({{ pending_reports }})</a>
    </div>
    
    <div class="card" style="background: #e7f3ff; color: rgb(107, 0, 62);">
        <div class="card-header" style="color: rgb(107, 0, 62);">âž• Post Items</div>
        <p style="margin-bottom: 15px;">Post lost or found items directly</p>
        <a href="{{ url_for('admin_post_lost') }}" class="btn btn-secondary">Post Lost Item</a>
        <a href="{{ url_for('admin_post_found') }}" class="btn btn-secondary" style="margin-top: 10px;">Post Found Item</a>
    </div>
</div>
{% endblock %}